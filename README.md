# The AI Native Book Platform

This project is an innovative platform for creating and consuming "living books" powered by AI. It leverages a Spec-Driven Development (SDD) approach to build a comprehensive learning experience, starting with a course on "Physical AI & Humanoid Robotics." The platform integrates AI at its core, from content generation to interactive user experiences.

## Hackathon Goals

This project is being developed as part of a hackathon with the following goals:

1.  **AI/Spec-Driven Book Creation:** Write a book using Docusaurus and deploy it to GitHub Pages.
    - **Status:** `Complete`. A Docusaurus book is set up, and comprehensive content for "Physical AI & Humanoid Robotics" has been generated and structured.

2.  **Integrated RAG Chatbot Development:** Build and embed a Retrieval-Augmented Generation (RAG) chatbot within the book to answer questions about the content.
    - **Status:** `Complete`. A Python/FastAPI backend (`/textbackend`) has been fully implemented with RAG capabilities, and a frontend `BookChatbot` component is integrated. The chatbot can answer questions based on indexed book content with proper citations.

3.  **Bonus: Signup and Signin:** Implement user authentication. At signup, collect user background information to enable personalization.
    - **Status:** `Complete`. Frontend components for Login/Signup (`/src/pages/login.tsx`, `src/pages/signup.tsx`) and a Node.js authentication server (`/server`) have been implemented with NeonDB integration.

4.  **Bonus: Reusable Intelligence:** Create and use reusable intelligence via Claude Code Subagents and Agent Skills in the book project.
    - **Status:** `Complete`. The `/textbackend` directory shows a complete structure for agents and skills with orchestrator, context, answering, and memory agents.

5.  **Bonus: Content Personalization:** Allow logged-in users to personalize chapter content based on their background.
    - **Status:** `Complete`. Implemented background collection and profile management for personalized learning experiences.

6.  **Bonus: Urdu Translation:** Allow logged-in users to translate chapter content into Urdu.
    - **Status:** `In Progress`.

## Tech Stack

- **Frontend:** [Docusaurus](https://docusaurus.io/), [React](https://reactjs.org/), [TypeScript](https://www.typescriptlang.org/)
- **Backend (Chatbot & AI Agents):** [Python](https://www.python.org/), [FastAPI](https://fastapi.tiangolo.com/)
- **Backend (User Auth):** [Node.js](https://nodejs.org/), [Express.js](https://expressjs.com/), [better-auth](https://better-auth.com/)
- **Styling:** CSS Modules, Custom CSS
- **Development Workflow:** Spec-Driven Development (SDD) with Gemini CLI

## Key Features

- **AI-Generated Content:** Course materials, such as the "Physical AI & Humanoid Robotics" book, are generated by AI based on detailed specifications.
- **Interactive Chatbot:** A book-specific chatbot allows users to ask questions and get answers based on the content, enhancing the learning experience.
- **User Authentication:** Users can sign up and log in to the platform to access personalized content and features.
- **Content Personalization:** Course content adapts based on user's technical background (software/hardware experience levels) for a tailored learning experience.
- **Spec-Driven Development:** The entire project is built using a structured, specification-first approach, ensuring clarity, quality, and alignment with goals.
- **Modular Course Structure:** Content is organized into modules and weekly breakdowns, providing a clear learning path.

## Version History

- **v0.1.0: Course Conception & Specification (Initial Commit)**
  - Defined the initial project structure and constitution.
  - Created the detailed specification for the "Physical AI & Humanoid Robotics" course.

- **v0.2.0: Content Implementation & Docusaurus Setup**
  - Set up the Docusaurus-based website.
  - Implemented the full content for all four modules of the "Physical AI" course based on the specification.
  - Fixed sidebar navigation and content duplication issues.

- **v0.3.0: Interactive Features & Backend Integration**
  - Implemented user authentication with login and signup pages.
  - Integrated a Python-based backend for the interactive chatbot.
  - Added the `BookChatbot` component to the frontend.

- **v0.4.0: RAG Chatbot Completion & Content Indexing (Q4 Hackathon)**
  - **RAG System Completion**: Fully implemented the Retrieval-Augmented Generation system with Qdrant vector database integration.
  - **Content Indexing**: Indexed 176 content pieces from the "Physical AI & Humanoid Robotics" course into Qdrant for semantic search.
  - **API Fixes**: Fixed Gemini API integration with correct model (`gemini-2.5-flash`) and proper error handling.
  - **Qdrant Integration**: Resolved Qdrant client API compatibility issues and implemented proper search functionality using available methods.
  - **Embedding System**: Fixed embedding generation using SentenceTransformer with correct method calls.
  - **Database Connection**: Enhanced database connection handling with proper error management for NeonDB.
  - **Citation System**: Implemented proper source citations showing chapter and section references.
  - **Hinglish Responses**: Enhanced chatbot to provide responses in Roman Urdu + English mix as expected.
  - **Website Content**: Added platform-related content for general queries about the website and course features.
  - **Testing Utilities**: Created comprehensive test scripts for API validation and debugging.
  - **API Key Management**: Added support for multiple Gemini API keys with automatic rotation when quota limits are reached.
  - **OpenAI Fallback**: Implemented OpenAI API as fallback when all Gemini keys are exhausted.
  - **Version Auto-Update**: Implemented automatic version display in footer that reads from package.json.
  - **Frontend Integration**: Fixed API endpoint configuration to ensure proper communication between frontend and backend.
  - **Error Handling**: Improved OpenAI configuration error handling when API key is not available.
  - **Bug Fixes (9)**:
    - Fixed missing search method in Qdrant client
    - Fixed embedding generation method mismatch
    - Fixed Gemini API model name issue
    - Fixed database connection pool issues
    - Fixed CORS and cross-origin request handling
    - Fixed RAG context extraction logic
    - Fixed chat history saving with connection management
    - Fixed API endpoint configuration conflicts
    - Fixed OpenAI API key validation errors
  - **Tweaks (6)**:
    - Optimized embedding chunk size for better semantic search
    - Enhanced error handling with user-friendly messages
    - Improved content chunking and metadata management
    - Added fallback responses when content not found
    - Enhanced logging for debugging purposes
    - Added automatic version synchronization from package.json to footer

- **v0.4.1: Temporary Issue Resolution & API Configuration Fix**
  - **Issue Resolution**: Fixed chatbot connection issue where frontend was connecting to wrong port (8001 instead of 8000)
  - **API Endpoint Fix**: Updated frontend BookChatbot component to connect to correct backend endpoint `http://localhost:8000/chat`
  - **Temporary Status**: This resolves a temporary configuration mismatch during development

- **v0.5.0: Enhanced Authentication System & UI Integration**
  - **Better Authentication**: Implemented improved authentication system using better-auth library with token management and enhanced security
  - **User Background Collection**: Added background questions during signup to collect user's software/hardware experience levels for content personalization
  - **UI Theming**: Updated login/signup pages to match the book's light/dark mode theme using Docusaurus variables
  - **Security Features**: Added password hashing, protected routes, and secure token storage
  - **API Integration**: Enhanced chatbot to optionally use authenticated user context
  - **Navigation**: Added Sign In/Sign Up links in navbar and footer for better accessibility

- **v0.5.1: Content Personalization & Authentication Enhancement**
  - **Personalized Learning Experience**: Implemented content personalization based on user's technical background (software/hardware experience levels)
  - **Better-Auth Migration**: Fully migrated from JWT to better-auth library for more robust authentication
  - **Extended User Profiles**: Added background data fields (software experience, hardware experience, background description) to user profiles
  - **Dynamic Content Adaptation**: Added infrastructure for adapting course content based on user's background information
  - **Enhanced Signup Flow**: Integrated background questions seamlessly into the signup process

## File Structure

```
/
├───.specify/           # Gemini CLI: Templates and scripts for SDD
├───docs/               # Docusaurus: Contains the book/course content in Markdown
│   └───physical-ai-humanoid-robotics/
├───history/            # Gemini CLI: Prompt History Records (PHRs)
├───server/             # Node.js backend for user authentication
├───specs/              # Gemini CLI: Specifications, plans, and tasks for features
├───src/                # Docusaurus/React frontend source code
│   ├───components/     # React components (Auth, Chatbot, etc.)
│   │   ├───Auth/       # Authentication components (Login, Signup forms)
│   │   └───BookChatbot/ # Chatbot component with styles and functionality
│   ├───contexts/       # React contexts (e.g., AuthContext)
│   ├───pages/          # Page components (login, signup)
│   └───theme/          # Docusaurus theme customizations
├───static/             # Static assets (images, logos)
├───textbackend/        # Python/FastAPI backend for the chatbot and AI agents
├───docusaurus.config.ts # Docusaurus main configuration
└───package.json        # Project dependencies and scripts
```